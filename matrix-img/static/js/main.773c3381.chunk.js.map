{"version":3,"sources":["redux/actions/index.js","utils/constant.js","utils/index.js","components/Card/index.js","components/Loader/index.js","components/Matrix/index.js","App.js","redux/reducers/index.js","redux/store/index.js","index.js"],"names":["setActiveCard","payload","type","UP_CODE","LEFT_CODE","DOWN_CODE","RIGHT_CODE","ESC_CODE","WIDTH_CARD","PADDING_CARD","getImageUrl","url","splitUrl","split","splice","length","join","getImageUrl2x","Card","cardRef","createRef","setSourceImg","_this","picRef","srcset","concat","props","createObserver","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","disconnect","rootMargin","observe","handlerChangeActiveCard","event","preventDefault","current","focus","active","number","row","handlerBlur","window","this","_this2","stylesCard","width","react_default","a","createElement","href","ref","className","data-number","data-row","onClick","onFocus","onBlur","style","el","alt","author","activeFromState","numberFromState","parentNode","clientWidth","offsetLeft","scrollHeight","offsetTop","clientHeight","srcSet","Component","connect","state","rowFromState","dispatch","bindActionCreators","Loader","Matrix","images","matrixRef","getBodyScrollTop","document","scrollingElement","documentElement","scrollTop","getBodyScrollLeft","scrollLeft","moveMatrix","indexOf","keyCode","scrollBy","top","innerHeight","behavior","scrollTo","left","innerWidth","scrollWidth","nextItem","getCountInRow","scrollVertical","parseInt","scrollHorizontal","checkNextCardAndScroll","querySelector","getBoundingClientRect","options","Object","objectSpread","getImages","_callee","data","regenerator_default","wrap","_context","prev","next","axios","all","get","sent","item","push","apply","toConsumableArray","setState","stop","smoothscroll","polyfill","addEventListener","removeEventListener","stylesMatrix","components_Loader","map","img","i","components_Card","key","download_url","App","components_Matrix","initialState","rootReducer","arguments","undefined","action","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","es","store","src_App","getElementById"],"mappings":"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","file":"static/js/main.773c3381.chunk.js","sourcesContent":["export const SET_ACTIVE_CARD = \"SET_ACTIVE_CARD\";\n\nexport const setActiveCard = payload => ({\n  type: SET_ACTIVE_CARD,\n  payload\n});","// Key codes\nexport const UP_CODE = 38;\nexport const LEFT_CODE = 37;\nexport const DOWN_CODE = 40;\nexport const RIGHT_CODE = 39;\nexport const ESC_CODE = 27;\n\n// Parameters of card\nexport const WIDTH_CARD = 256;\nexport const PADDING_CARD = 10;\nexport const COUNT_CARDS = 20;\n","export const getImageUrl = url => {\n  let splitUrl = url.split(\"/\");\n  splitUrl.splice(splitUrl.length - 2, 2, \"300\", \"200\");\n\n  return splitUrl.join(\"/\");\n};\n\nexport const getImageUrl2x = url => {\n  let splitUrl = url.split(\"/\");\n  splitUrl.splice(splitUrl.length - 2, 2, \"600\", \"400\");\n\n  return splitUrl.join(\"/\");\n};\n","import React, { Component, createRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport { setActiveCard } from \"../../redux/actions\";\nimport { bindActionCreators } from \"redux\";\nimport { getImageUrl, getImageUrl2x } from \"../../utils\";\nimport { WIDTH_CARD } from \"../../utils/constant\";\nimport \"./Card.scss\";\n\nclass Card extends Component {\n  cardRef = createRef();\n\n  componentDidMount() {\n    if (!window[\"IntersectionObserver\"]) {\n      this.setSourceImg();\n    } else {\n      this.createObserver();\n    }\n  }\n\n  setSourceImg = () => {\n    this.picRef.srcset = `${getImageUrl(this.props.url)} 1x, \n                          ${getImageUrl2x(this.props.url)} 2x`;\n  };\n\n  createObserver = () => {\n    let observer = new IntersectionObserver(\n      entries => {\n        entries.forEach(entry => {\n          const { isIntersecting } = entry;\n          if (isIntersecting) {\n            this.setSourceImg();\n            observer = observer.disconnect();\n          }\n        });\n      },\n      {\n        rootMargin: \"200px\"\n      }\n    );\n\n    observer.observe(this.picRef);\n  };\n\n  handlerChangeActiveCard = event => {\n    event.preventDefault();\n    this.cardRef.current.focus();\n\n    this.props.setActiveCard({\n      active: true,\n      number: this.props.number,\n      row: this.props.row\n    });\n  };\n\n  handlerBlur = () => {\n    this.props.setActiveCard({\n      active: false,\n      number: 0,\n      row: 0\n    });\n  };\n\n  render() {\n    const stylesCard = {\n      width: WIDTH_CARD\n    };\n    return (\n      <a\n        href=\"/#\"\n        ref={this.cardRef}\n        className=\"card\"\n        data-number={this.props.number}\n        data-row={this.props.row}\n        onClick={this.handlerChangeActiveCard}\n        onFocus={this.handlerChangeActiveCard}\n        onBlur={this.handlerBlur}\n        style={stylesCard}\n      >\n        <picture className=\"card__picture\">\n          <source type=\"image/jpeg\" ref={el => (this.picRef = el)} />\n          <img className=\"card__img\" alt={this.props.author} />\n        </picture>\n        {this.props.activeFromState &&\n          this.props.number === this.props.numberFromState && (\n            <div\n              className={\n                \"card__info \" +\n                (this.cardRef.current.parentNode.clientWidth -\n                  this.cardRef.current.offsetLeft <\n                this.cardRef.current.clientWidth * 2\n                  ? \"card__info_right \"\n                  : \"\") +\n                (this.cardRef.current.parentNode.scrollHeight -\n                  this.cardRef.current.offsetTop <\n                this.cardRef.current.clientHeight * 2\n                  ? \"card__info_top \"\n                  : \"\")\n              }\n            >\n              <picture className=\"card__picture\">\n                <source\n                  type=\"image/jpeg\"\n                  srcSet={getImageUrl2x(this.props.url)}\n                />\n                <img className=\"card__img\" alt={this.props.author} />\n              </picture>\n              <div className=\"card__text\">{this.props.author}</div>\n            </div>\n          )}\n      </a>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      setActiveCard\n    },\n    dispatch\n  );\n\nconst mapStateToProps = state => ({\n  rowFromState: state.row,\n  numberFromState: state.number,\n  activeFromState: state.active\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Card);\n","import React, { Component } from \"react\";\nimport \"./Loader.scss\";\n\nclass Loader extends Component {\n  render() {\n    return (\n      <div className=\"loader\">\n        <div className=\"loader__item\">Loading...</div>\n      </div>\n    );\n  }\n}\n\nexport default Loader;\n","import React, { Component, createRef } from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { setActiveCard } from \"../../redux/actions\";\nimport { bindActionCreators } from \"redux\";\nimport smoothscroll from \"smoothscroll-polyfill\";\nimport \"./Matrix.scss\";\nimport {\n  LEFT_CODE,\n  RIGHT_CODE,\n  UP_CODE,\n  DOWN_CODE,\n  ESC_CODE,\n  PADDING_CARD,\n  WIDTH_CARD,\n  COUNT_CARDS\n} from \"../../utils/constant\";\nimport Card from \"../Card\";\nimport Loader from \"../Loader\";\n\nclass Matrix extends Component {\n  state = {\n    images: []\n  };\n\n  matrixRef = createRef();\n\n  componentDidMount() {\n    smoothscroll.polyfill();\n    this.getImages();\n    document.addEventListener(\"keydown\", this.moveMatrix);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\");\n  }\n\n  componentDidUpdate() {\n    if (this.props.activeFromState) {\n      document.removeEventListener(\"keydown\", this.moveMatrix);\n      document.addEventListener(\"keydown\", this.nextItem);\n    } else {\n      document.removeEventListener(\"keydown\", this.nextItem);\n      document.addEventListener(\"keydown\", this.moveMatrix);\n    }\n  }\n\n  getBodyScrollTop = () => {\n    const el = document.scrollingElement || document.documentElement;\n\n    return el.scrollTop;\n  };\n\n  getBodyScrollLeft = () => {\n    const el = document.scrollingElement || document.documentElement;\n\n    return el.scrollLeft;\n  };\n\n  moveMatrix = event => {\n    if (\n      [LEFT_CODE, RIGHT_CODE, UP_CODE, DOWN_CODE].indexOf(event.keyCode) > -1\n    ) {\n      event.preventDefault();\n    }\n\n    if (event.keyCode === UP_CODE) {\n      window.scrollBy({\n        top: -1 * (window.innerHeight / 3),\n        behavior: \"smooth\"\n      });\n\n      if (this.getBodyScrollTop() === 0) {\n        window.scrollTo({\n          top: this.matrixRef.current.scrollHeight,\n          behavior: \"smooth\"\n        });\n      }\n    } else if (event.keyCode === DOWN_CODE) {\n      window.scrollBy({\n        top: window.innerHeight / 3,\n        behavior: \"smooth\"\n      });\n\n      if (\n        this.matrixRef.current.scrollHeight - this.getBodyScrollTop() <=\n        window.innerHeight\n      ) {\n        window.scrollTo({\n          top: 0,\n          behavior: \"smooth\"\n        });\n      }\n    } else if (event.keyCode === LEFT_CODE) {\n      window.scrollBy({\n        left: -1 * (window.innerWidth / 3),\n        behavior: \"smooth\"\n      });\n\n      if (this.getBodyScrollLeft() === 0) {\n        window.scrollTo({\n          left: this.matrixRef.current.scrollWidth,\n          behavior: \"smooth\"\n        });\n      }\n    } else if (event.keyCode === RIGHT_CODE) {\n      window.scrollBy({\n        left: window.innerWidth / 3,\n        behavior: \"smooth\"\n      });\n\n      if (\n        this.matrixRef.current.scrollWidth - this.getBodyScrollLeft() <=\n        window.innerWidth\n      ) {\n        window.scrollTo({\n          left: 0,\n          behavior: \"smooth\"\n        });\n      }\n    }\n  };\n\n  nextItem = event => {\n    // Disable native scroll\n    if (\n      [LEFT_CODE, RIGHT_CODE, UP_CODE, DOWN_CODE, ESC_CODE].indexOf(\n        event.keyCode\n      ) > -1\n    ) {\n      event.preventDefault();\n    }\n\n    if (event.keyCode === UP_CODE && this.props.rowFromState > 0) {\n      this.props.setActiveCard({\n        active: true,\n        row: this.props.rowFromState - 1,\n        number: this.props.numberFromState - this.getCountInRow()\n      });\n\n      this.scrollVertical(this.props.numberFromState);\n    } else if (\n      event.keyCode === DOWN_CODE &&\n      this.props.rowFromState <\n        parseInt((this.state.images.length - 1) / this.getCountInRow()) &&\n      this.props.numberFromState + this.getCountInRow() <=\n        this.state.images.length - 1\n    ) {\n      this.props.setActiveCard({\n        active: true,\n        row: this.props.rowFromState + 1,\n        number: this.props.numberFromState + this.getCountInRow()\n      });\n\n      this.scrollVertical(this.props.numberFromState);\n    } else if (event.keyCode === LEFT_CODE && this.props.numberFromState > 0) {\n      this.props.setActiveCard({\n        active: true,\n        row: this.props.rowFromState,\n        number: this.props.numberFromState - 1\n      });\n\n      this.scrollHorizontal(this.props.numberFromState);\n      this.checkNextCardAndScroll(this.props.numberFromState);\n    } else if (\n      event.keyCode === RIGHT_CODE &&\n      this.props.numberFromState < this.state.images.length - 1\n    ) {\n      this.props.setActiveCard({\n        active: true,\n        row: this.props.rowFromState,\n        number: this.props.numberFromState + 1\n      });\n\n      this.scrollHorizontal(this.props.numberFromState);\n      this.checkNextCardAndScroll(this.props.numberFromState);\n    } else if (event.keyCode === 27) {\n      this.props.setActiveCard({\n        active: false,\n        row: 0,\n        number: 0\n      });\n    }\n  };\n\n  scrollVertical = number => {\n    let el = document.querySelector(`a[data-number=\"${number}\"]`);\n    let offsetTop = el.getBoundingClientRect().top;\n    let options = {};\n\n    if (window.innerHeight - offsetTop < 400) {\n      options[\"top\"] = window.innerHeight / 2;\n    } else if (offsetTop < 100) {\n      options[\"top\"] = -1 * (window.innerHeight / 2);\n    }\n\n    window.scrollBy({\n      ...options,\n      behavior: \"smooth\"\n    });\n  };\n\n  scrollHorizontal = number => {\n    let el = document.querySelector(`a[data-number=\"${number}\"]`);\n    let offsetLeft = el.getBoundingClientRect().left;\n    let options = {};\n\n    if (window.innerWidth - offsetLeft < 400) {\n      options[\"left\"] = window.innerWidth / 2;\n    } else if (offsetLeft < 100) {\n      options[\"left\"] = -1 * (window.innerWidth / 2);\n    }\n\n    window.scrollBy({\n      ...options,\n      behavior: \"smooth\"\n    });\n  };\n\n  checkNextCardAndScroll = number => {\n    let options = {};\n\n    if (number % this.getCountInRow() === 0) {\n      options[\"left\"] = -1 * this.matrixRef.current.scrollWidth;\n    }\n\n    if ((number + 1) % this.getCountInRow() === 0) {\n      options[\"left\"] = this.matrixRef.current.scrollWidth;\n    }\n\n    window.scrollBy({\n      ...options,\n      behavior: \"smooth\"\n    });\n  };\n\n  getImages = async () => {\n    let data = [];\n    let res = await axios.all([\n      axios.get(\"https://picsum.photos/v2/list?page=2&limit=100\"),\n      axios.get(\"https://picsum.photos/v2/list?page=3&limit=100\"),\n      axios.get(\"https://picsum.photos/v2/list?page=4&limit=100\")\n    ]);\n\n    res.forEach(item => {\n      data.push(...item.data);\n    });\n\n    this.setState({ images: data });\n  };\n\n  getCountInRow = () => {\n    let width = this.matrixRef.current.getBoundingClientRect().width;\n    let count = width / (WIDTH_CARD + PADDING_CARD);\n\n    return parseInt(count);\n  };\n\n  render() {\n    const stylesMatrix = {\n      width: (PADDING_CARD + WIDTH_CARD) * COUNT_CARDS\n    };\n    return (\n      <div style={stylesMatrix} ref={this.matrixRef} className=\"matrix\">\n        {this.state.images.length === 0 ? (\n          <Loader />\n        ) : (\n          this.state.images.map((img, i) => {\n            return (\n              <Card\n                key={i}\n                url={img.download_url}\n                number={i}\n                author={img.author}\n                row={parseInt(i / this.getCountInRow())}\n              />\n            );\n          })\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      setActiveCard\n    },\n    dispatch\n  );\n\nconst mapStateToProps = state => ({\n  rowFromState: state.row,\n  numberFromState: state.number,\n  activeFromState: state.active\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Matrix);\n","import React, { Component } from \"react\";\nimport Matrix from \"./components/Matrix\";\n\nclass App extends Component {\n  render() {\n    return <Matrix />;\n  }\n}\n\nexport default App;\n","import { SET_ACTIVE_CARD } from \"../actions\";\n\nconst initialState = {\n  active: false,\n  number: 0,\n  row: 0\n};\n\nconst rootReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_ACTIVE_CARD:\n      return {\n        ...state,\n        ...action.payload\n      };\n    default:\n      return state;\n  }\n};\n\nexport default rootReducer;\n","import { createStore } from \"redux\";\nimport rootReducer from \"../reducers\";\n\nexport default createStore(\n  rootReducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}